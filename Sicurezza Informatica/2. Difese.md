- [Architetture di Rete](#architetture-di-rete)
  - [Screening Router](#screening-router)
  - [Dual-Homed Gatway](#dual-homed-gatway)
  - [Screeened-Host Gateway](#screeened-host-gateway)
  - [De-Militarized Zone (DMZ)](#de-militarized-zone-dmz)
  - [Screened Subnet](#screened-subnet)
      - [Tipiche Politiche di DMZ](#tipiche-politiche-di-dmz)
  - [Segmentazione Multipla](#segmentazione-multipla)
- [Crittografia](#crittografia)
  - [Crittosistema](#crittosistema)
  - [Crittoanalisi](#crittoanalisi)

# Architetture di Rete
## Screening Router 
Il router di bordo collega la rete a internet. Tipica configurazione domestica o di un piccolo ufficio. Tutti i dispositivi si trovano all'interno di una stessa rete locale. Il computer di bordo, oltre a garantire l'accesso a internet, applica anche qualche funzionalità di firewall con opportune regole per il filtraggio dei pacchetti. Tutti i router moderni hanno funzionalità di packet filter statici, si tratta eprtanto di una soluzione economica.

## Dual-Homed Gatway
Il dual homed gateway viene collegato al router e alla rete locale. Se questo facesse solo operazioni di packet filter la soluzione sarebbe logicamente uguale a quella precedente. Questo dispositivo tuttavia si comporta da firewall. Il dual-homed gateway esegue il routing dei pacchetti e implementa funzioni di filtraggio IN-OUT, OUT-IN mediante packet filter e/o proxy firewall.

Dal punto di vista dell'architettura queste due configurazioni hanno un problema: presentano un singolo livello di sicurezz, pertanto è possibile combinarle.

## Screeened-Host Gateway
Quest'architettura prevede l'azione combinata di uno Screening Router (che fa packet filter) e di un Proxy Firewall. Tipicamente come dispositivo più esterno viene messo quello che filtra i pacchetti: lo Screening Router. Lo Screening Router blocca i pacchetti in entrata e in uscita dalla LAN, meno quelli diretti al Proxy Firewall.

Il Proxy Firewall, anche chiamato *Bastion Host*, è la macchina deputata a eseguire il firewall che si affaccia su Internet.  Una configurazione possibile sarebbe quella che vieta la comunicazione diretta tra gli host della LAN con il router, obbligandoli a passare per il firewall. Si tratta di una confifurazione più complessa e costosa del dual-homed gatewway, ma permette anche una maggiore flessibilità nella configurazione.

## De-Militarized Zone (DMZ)
La DMZ è una parte della rete che non fa parte nè della rete interna nè di quella esterna (Internet), in un'area tra il *Border Router* e il *Bastion Host*. I server/macchine dche devono essere raggiungibili dall'esterno devono essere messe dentro questa rete. Se fossero messi nella rete interna, dopo aver configurato opportunamente il server, se una di queste macchine fosse violata e fosse connessa direttamente agli altri dispositivi della rete interna un possibile attaccante, dopo averla violata, avrebbe accesso anche agli altri dispositivi.

## Screened Subnet
Metodo più sicuro per realizzare una DMZ. Ci sono tre componenti principali:
- Router Esterno
- Bastion Host (tipicamente livello applicativo)
- Router Interno

La rete locale viene divisa in tre sottoreti: la rete locale vera e propria, la rete intermedia che presenta i tre dispositivi sopra citati che devono essere raggiungibili dall'esterno. Per far sì che queste macchine non siano direttamente esposte a internet si configura il router esterno in modo che faccia sempre packet filter. L'ultima sottorete è rappresentata dalla DMZ. Nella DMZ non ci metto necessariamente i web server, ma tutti quei sistemi che devono essere direttamente raggiungibili da internet. Se un web server deve essere raggiunto *esclusivamente* dai dispositivi locali la soluzione migliore è sempre quella di tenerlo all'interno di questa stessa rete.

#### Tipiche Politiche di DMZ
Dalla LAN verso internet solitamente si lascia una certa libertà. Si possono utilizzare protocolli non standard, in modo da evitare blocchi particolari e *permettere quasi tutto*. Dalla LAN verso la DMZ, sapendo che ci sono certi servizi interrogabili da certi protocolli, si lasciano passare solo questi protocolli. Anche da Internet verso la DMZ vale lo stesso ragionamento. Solitamente da Internet verso la rete locale viene invece bloccato tutto, consentendo solo le risposte delle richieste fatte dalla LAN. Dalla DMZ a Internet vengono permessi solo i protocolli necessari, mentre dalla DMZ alla LAN vale il ragionamento fatto per Internet: tutto viene bloccato fatta eccezione delle risposte alle richieste fatte dagli host presenti sulla LAN.

## Segmentazione Multipla
In linea di principio si utilizzano i segmenti per ragruppare risorse che devono sottostare alle stesse politiche di sicurezza. Il numero di segmenti da utilizzare dipende dalle politiche da implementare.

# Crittografia
L'utilizzo corretto della crittografia deve riservare alcune garanzie:
1. Riservatezza dei Dati : anche se l'informazione venisse intercettata o rubata, questa non sarebbe interpretabile dall'attaccante
2. Integrità dei Dati : se si riceve un messaggio modificato da terzi, è possibile saperlo. Quindi si ha una conferma quando il dato ricevuto è stato inviato da chi ci si aspetta senza aver subito modifiche. Non si applica per forza nel contesto di comunicazioni private, ma anche a dati che possono essere pubblici.
3. Autenticazione : certezza dell'"identità"
4. Autorizzazione : protezione dei dati contro l'utilizzo non autorizzato.
5. Non Ripudio : impossibilità del mittente di negare di aver inviato un determinato messaggio.

Non è sempre necessario soddisfare tutti questi requisiti: talvolta solo una parte deve essere utile allo scopo.

Il concetto ombrello di "crittologia" comprende tutto ciò che ha a che fare con l'arte e la scienza delle "scritture segrete". La crittografia è l'arte di *progettare algoritmi* (o *cifrari*) che con l'utilizzo di parametri permette di cifrare e/o decifrare un messaggio.  Il mittente cifrando un messaggio può *renderlo incomprensibile a tutti*, meno che al suo destinatario. Il destinatario con le opportune chiavi e l'algoritmo può decifrarlo.

## Crittosistema
E' il sistema di crittografia. Comprende tutto cià che serve:
- M testo in chiaro
- C testo cifrato
- E funzioni per cifrare
- D funzioni per decifrare
- K insieme delle chiavi

Un sistema si dice *simmetrico* quando prevede l'utilizzo di *una sola chiave k* per cifrare e decifrare, *asimettrica* quando ne comprende più di una.

E' opportuno distinguere gli algoritmi incondizionatamente sicuro da quelli sicuri dal punto di vista computazionale. Nel primo dei casi, quando un avversario riceve un testo cifrato C, questo sembra essere generato casualmente e non avere alcuna relazione con il testo originale: è impossibile per l'avversario ricostruire parzialmente o in parte il messaggio originale. Tutti gli altri algoritmi, si considerano computazionalmente sicuri. Cià vuol dire che un attaccante che ha disposizione *molto tempo* e *molte risorse*, può risalire al testo in chiaro impiegando diverso tempo. E' necessario scegliere uno dei due criteri affinchè uno schema di cifratura risulti computazionalmente sicuro:
- Il costo per crittoanalizzare il codice super il valore dell'informazione cifrata
- Il tempo necessario per crittoanalizzare il codice super il tempo per cui l'informazione cifrata è ritenuta utile

## Crittoanalisi
Gli attacchi di crittoanalaisi si possono basare su elementi diversi, come:
- Natura dell'algoritmo di cifratura
- La chiave
- Conoscenza della natura del testo (formato, lingua, codifica). Ad esempio se una richiesta web comincia con GET posso risalire ai primi byte/caratteri.
- Porzione di corrispondenza del testo in chiaro con quello cifrato
- Attacchi a dizionari, contro i quali è necessario utilizzare password sufficientemente lunghe.